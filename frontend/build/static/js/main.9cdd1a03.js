/*! For license information please see main.9cdd1a03.js.LICENSE.txt */
(()=>{"use strict";var e={4:(e,t,n)=>{var r=n(853),a=n(43),l=n(950);function o(e){var t="https://9a774960-07d9-4739-8daa-01007498d35c.preview.emergentagent.com","/api"),At=e=>{let{activeSection:t,setActiveSection:n,cartCount:r}=e;const a=[{id:"catalog",name:"\u041a\u0430\u0442\u0430\u043b\u043e\u0433",icon:"\ud83c\udfea"},{id:"about",name:"\u041e \u043d\u0430\u0441",icon:"\ud83d\udccb"},{id:"feedback",name:"\u0421\u0432\u044f\u0437\u044c",icon:"\ud83d\udcac"},{id:"cart",name:"\u041a\u043e\u0440\u0437\u0438\u043d\u0430",icon:"\ud83d\uded2",badge:r}];return(0,zt.jsx)("nav",{className:"bottom-nav",children:(0,zt.jsx)("div",{className:"bottom-nav-container",children:a.map((e=>(0,zt.jsxs)("button",{onClick:()=>n(e.id),className:"bottom-nav-item ".concat(t===e.id?"active":""),children:[(0,zt.jsxs)("div",{className:"bottom-nav-icon",children:[(0,zt.jsx)("span",{className:"icon",children:e.icon}),e.badge>0&&(0,zt.jsx)("span",{className:"badge",children:e.badge})]}),(0,zt.jsx)("span",{className:"bottom-nav-text",children:e.name})]},e.id)))})})},Ft=e=>{let{title:t="\u041a\u041b\u0418\u041c\u0410\u0422 \u0422\u0415\u0425\u041d\u041e"}=e;return(0,zt.jsx)("header",{className:"app-header",children:(0,zt.jsx)("div",{className:"header-content",children:(0,zt.jsxs)("h1",{className:"header-title",children:[(0,zt.jsx)("span",{className:"header-icon",children:"\u2744\ufe0f"}),t]})})})},Dt=e=>{let{product:t,onViewDetails:n,onAddToCart:r}=e;return(0,zt.jsxs)("div",{className:"product-card",children:[(0,zt.jsx)("div",{className:"product-image-container",children:(0,zt.jsx)("img",{src:t.image_url,alt:t.name,className:"product-image"})}),(0,zt.jsxs)("div",{className:"product-info",children:[(0,zt.jsx)("h3",{className:"product-name",children:t.name}),(0,zt.jsx)("p",{className:"product-description",children:t.short_description}),(0,zt.jsxs)("div",{className:"product-price",children:[t.price.toLocaleString()," \u20bd"]}),(0,zt.jsxs)("div",{className:"product-actions",children:[(0,zt.jsx)("button",{onClick:()=>n(t),className:"btn btn-secondary",children:"\u041f\u043e\u0434\u0440\u043e\u0431\u043d\u0435\u0435"}),(0,zt.jsx)("button",{onClick:()=>r(t),className:"btn btn-primary",children:"\u0412 \u043a\u043e\u0440\u0437\u0438\u043d\u0443"})]})]})]})},Mt=e=>{let{product:t,onClose:n,onAddToCart:r}=e;return t?(0,zt.jsx)("div",{className:"modal-overlay",onClick:n,children:(0,zt.jsxs)("div",{className:"modal",onClick:e=>e.stopPropagation(),children:[(0,zt.jsxs)("div",{className:"modal-header",children:[(0,zt.jsx)("h2",{className:"modal-title",children:t.name}),(0,zt.jsx)("button",{onClick:n,className:"modal-close",children:"\xd7"})]}),(0,zt.jsxs)("div",{className:"modal-content",children:[(0,zt.jsx)("div",{className:"product-detail-image",children:(0,zt.jsx)("img",{src:t.image_url,alt:t.name})}),(0,zt.jsxs)("div",{className:"product-detail-info",children:[(0,zt.jsx)("p",{className:"product-detail-description",children:t.description}),(0,zt.jsxs)("div",{className:"product-detail-price",children:[t.price.toLocaleString()," \u20bd"]}),(0,zt.jsx)("button",{onClick:()=>{r(t),n()},className:"btn btn-primary btn-large",children:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0432 \u043a\u043e\u0440\u0437\u0438\u043d\u0443"})]}),t.specifications&&Object.keys(t.specifications).length>0&&(0,zt.jsxs)("div",{className:"specifications",children:[(0,zt.jsx)("h3",{className:"specifications-title",children:"\u0425\u0430\u0440\u0430\u043a\u0442\u0435\u0440\u0438\u0441\u0442\u0438\u043a\u0438"}),(0,zt.jsx)("div",{className:"specifications-list",children:Object.entries(t.specifications).map((e=>{let[t,n]=e;return(0,zt.jsxs)("div",{className:"specification-item",children:[(0,zt.jsx)("span",{className:"spec-key",children:t}),(0,zt.jsx)("span",{className:"spec-value",children:n})]},t)}))})]})]})]})}):null},Ut=e=>{var t,n;let{products:r,filters:l,onFiltersChange:o,onReset:i}=e;const[s,u]=(0,a.useState)(!1),f=[...new Set(r.map((e=>{const t=e.name.match(/^([A-Za-z\s]+)/);return t?t[1].trim():"\u0414\u0440\u0443\u0433\u0438\u0435"})))],d=[...new Set(r.map((e=>{var t;const n=null===(t=e.specifications)||void 0===t?void 0:t["\u041c\u043e\u0449\u043d\u043e\u0441\u0442\u044c \u043e\u0445\u043b\u0430\u0436\u0434\u0435\u043d\u0438\u044f"];return n?n.replace(" \u043a\u0412\u0442",""):null})).filter(Boolean))].sort(((e,t)=>parseFloat(e)-parseFloat(t))),p=[...new Set(r.map((e=>{var t;const n=null===(t=e.specifications)||void 0===t?void 0:t["\u041f\u043b\u043e\u0449\u0430\u0434\u044c \u043f\u043e\u043c\u0435\u0449\u0435\u043d\u0438\u044f"];return n?n.replace(" \u043c\xb2",""):null})).filter(Boolean))].sort(((e,t)=>parseInt(e)-parseInt(t))),h=[...new Set(r.map((e=>{var t;return null===(t=e.specifications)||void 0===t?void 0:t["\u041a\u043b\u0430\u0441\u0441 \u044d\u043d\u0435\u0440\u0433\u043e\u044d\u0444\u0444\u0435\u043a\u0442\u0438\u0432\u043d\u043e\u0441\u0442\u0438"]})).filter(Boolean))],m=(e,t)=>{o(c(c({},l),{},{[e]:t}))},g=(e,t)=>{o(c(c({},l),{},{priceRange:c(c({},l.priceRange),{},{[e]:t})}))},y=Object.entries(l).filter((e=>{let[t,n]=e;return"priceRange"===t?n.min||n.max:n&&n.length>0})).length;return(0,zt.jsxs)("div",{className:"filters-container",children:[(0,zt.jsxs)("div",{className:"filters-header",children:[(0,zt.jsxs)("div",{className:"search-container",children:[(0,zt.jsx)("input",{type:"text",placeholder:"\u041f\u043e\u0438\u0441\u043a \u043a\u043e\u043d\u0434\u0438\u0446\u0438\u043e\u043d\u0435\u0440\u043e\u0432...",value:l.search||"",onChange:e=>m("search",e.target.value),className:"search-input"}),(0,zt.jsx)("span",{className:"search-icon",children:"\ud83d\udd0d"})]}),(0,zt.jsxs)("button",{onClick:()=>u(!s),className:"filters-toggle ".concat(y>0?"has-filters":""),children:[(0,zt.jsx)("span",{children:"\u0424\u0438\u043b\u044c\u0442\u0440\u044b"}),y>0&&(0,zt.jsx)("span",{className:"filters-count",children:y}),(0,zt.jsx)("span",{className:"toggle-icon ".concat(s?"open":""),children:"\u25bc"})]})]}),s&&(0,zt.jsxs)("div",{className:"filters-panel",children:[(0,zt.jsxs)("div",{className:"filters-grid",children:[(0,zt.jsxs)("div",{className:"filter-group",children:[(0,zt.jsx)("label",{className:"filter-label",children:"\u041f\u0440\u043e\u0438\u0437\u0432\u043e\u0434\u0438\u0442\u0435\u043b\u044c"}),(0,zt.jsxs)("select",{value:l.brand||"",onChange:e=>m("brand",e.target.value),className:"filter-select",children:[(0,zt.jsx)("option",{value:"",children:"\u0412\u0441\u0435 \u043f\u0440\u043e\u0438\u0437\u0432\u043e\u0434\u0438\u0442\u0435\u043b\u0438"}),f.map((e=>(0,zt.jsx)("option",{value:e,children:e},e)))]})]}),(0,zt.jsxs)("div",{className:"filter-group",children:[(0,zt.jsx)("label",{className:"filter-label",children:"\u041c\u043e\u0449\u043d\u043e\u0441\u0442\u044c \u043e\u0445\u043b\u0430\u0436\u0434\u0435\u043d\u0438\u044f"}),(0,zt.jsxs)("select",{value:l.power||"",onChange:e=>m("power",e.target.value),className:"filter-select",children:[(0,zt.jsx)("option",{value:"",children:"\u041b\u044e\u0431\u0430\u044f \u043c\u043e\u0449\u043d\u043e\u0441\u0442\u044c"}),d.map((e=>(0,zt.jsxs)("option",{value:e,children:[e," \u043a\u0412\u0442"]},e)))]})]}),(0,zt.jsxs)("div",{className:"filter-group",children:[(0,zt.jsx)("label",{className:"filter-label",children:"\u041f\u043b\u043e\u0449\u0430\u0434\u044c \u043f\u043e\u043c\u0435\u0449\u0435\u043d\u0438\u044f"}),(0,zt.jsxs)("select",{value:l.area||"",onChange:e=>m("area",e.target.value),className:"filter-select",children:[(0,zt.jsx)("option",{value:"",children:"\u041b\u044e\u0431\u0430\u044f \u043f\u043b\u043e\u0449\u0430\u0434\u044c"}),p.map((e=>(0,zt.jsxs)("option",{value:e,children:[e," \u043c\xb2"]},e)))]})]}),(0,zt.jsxs)("div",{className:"filter-group",children:[(0,zt.jsx)("label",{className:"filter-label",children:"\u041a\u043b\u0430\u0441\u0441 \u044d\u043d\u0435\u0440\u0433\u043e\u044d\u0444\u0444\u0435\u043a\u0442\u0438\u0432\u043d\u043e\u0441\u0442\u0438"}),(0,zt.jsxs)("select",{value:l.efficiency||"",onChange:e=>m("efficiency",e.target.value),className:"filter-select",children:[(0,zt.jsx)("option",{value:"",children:"\u041b\u044e\u0431\u043e\u0439 \u043a\u043b\u0430\u0441\u0441"}),h.map((e=>(0,zt.jsx)("option",{value:e,children:e},e)))]})]}),(0,zt.jsxs)("div",{className:"filter-group filter-group-wide",children:[(0,zt.jsx)("label",{className:"filter-label",children:"\u0426\u0435\u043d\u0430, \u20bd"}),(0,zt.jsxs)("div",{className:"price-range",children:[(0,zt.jsx)("input",{type:"number",placeholder:"\u041e\u0442",value:(null===(t=l.priceRange)||void 0===t?void 0:t.min)||"",onChange:e=>g("min",e.target.value),className:"price-input"}),(0,zt.jsx)("span",{className:"price-separator",children:"\u2014"}),(0,zt.jsx)("input",{type:"number",placeholder:"\u0414\u043e",value:(null===(n=l.priceRange)||void 0===n?void 0:n.max)||"",onChange:e=>g("max",e.target.value),className:"price-input"})]})]})]}),(0,zt.jsx)("div",{className:"filters-actions",children:(0,zt.jsx)("button",{onClick:i,className:"btn btn-secondary btn-small",children:"\u0421\u0431\u0440\u043e\u0441\u0438\u0442\u044c"})})]})]})},It=e=>{let{onAddToCart:t}=e;const[n,r]=(0,a.useState)([]),[l,o]=(0,a.useState)([]),[i,s]=(0,a.useState)(null),[u,c]=(0,a.useState)(!0),[f,d]=(0,a.useState)({search:"",brand:"",power:"",area:"",efficiency:"",priceRange:{min:"",max:""}});(0,a.useEffect)((()=>{p()}),[]),(0,a.useEffect)((()=>{h()}),[n,f]);const p=async()=>{try{const e=await Rt.get("".concat(Lt,"/products"));r(e.data)}catch(e){console.error("\u041e\u0448\u0438\u0431\u043a\u0430 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0438 \u0442\u043e\u0432\u0430\u0440\u043e\u0432:",e)}finally{c(!1)}},h=()=>{let e=[...n];if(f.search){const t=f.search.toLowerCase();e=e.filter((e=>e.name.toLowerCase().includes(t)||e.description.toLowerCase().includes(t)||e.short_description.toLowerCase().includes(t)))}f.brand&&(e=e.filter((e=>{const t=e.name.match(/^([A-Za-z\s]+)/);return(t?t[1].trim():"\u0414\u0440\u0443\u0433\u0438\u0435")===f.brand}))),f.power&&(e=e.filter((e=>{var t;const n=null===(t=e.specifications)||void 0===t?void 0:t["\u041c\u043e\u0449\u043d\u043e\u0441\u0442\u044c \u043e\u0445\u043b\u0430\u0436\u0434\u0435\u043d\u0438\u044f"];return n&&n.includes(f.power)}))),f.area&&(e=e.filter((e=>{var t;const n=null===(t=e.specifications)||void 0===t?void 0:t["\u041f\u043b\u043e\u0449\u0430\u0434\u044c \u043f\u043e\u043c\u0435\u0449\u0435\u043d\u0438\u044f"];return n&&n.includes(f.area)}))),f.efficiency&&(e=e.filter((e=>{var t;return(null===(t=e.specifications)||void 0===t?void 0:t["\u041a\u043b\u0430\u0441\u0441 \u044d\u043d\u0435\u0440\u0433\u043e\u044d\u0444\u0444\u0435\u043a\u0442\u0438\u0432\u043d\u043e\u0441\u0442\u0438"])===f.efficiency}))),(f.priceRange.min||f.priceRange.max)&&(e=e.filter((e=>{const t=e.price,n=f.priceRange.min?parseFloat(f.priceRange.min):0,r=f.priceRange.max?parseFloat(f.priceRange.max):1/0;return t>=n&&t<=r}))),o(e)},m=()=>{d({search:"",brand:"",power:"",area:"",efficiency:"",priceRange:{min:"",max:""}})};return u?(0,zt.jsxs)("div",{className:"loading-container",children:[(0,zt.jsx)("div",{className:"loading-spinner"}),(0,zt.jsx)("p",{children:"\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430 \u043a\u0430\u0442\u0430\u043b\u043e\u0433\u0430..."})]}):(0,zt.jsxs)("div",{className:"section",children:[(0,zt.jsxs)("div",{className:"section-content",children:[(0,zt.jsx)(Ut,{products:n,filters:f,onFiltersChange:e=>{d(e)},onReset:m}),(0,zt.jsx)("div",{className:"products-header",children:(0,zt.jsx)("h2",{className:"products-title",children:l.length===n.length?"\u0412\u0441\u0435 \u0442\u043e\u0432\u0430\u0440\u044b (".concat(n.length,")"):"\u041d\u0430\u0439\u0434\u0435\u043d\u043e: ".concat(l.length," \u0438\u0437 ").concat(n.length)})}),0===l.length?(0,zt.jsxs)("div",{className:"no-results",children:[(0,zt.jsx)("div",{className:"no-results-icon",children:"\ud83d\udd0d"}),(0,zt.jsx)("h3",{className:"no-results-title",children:"\u0422\u043e\u0432\u0430\u0440\u044b \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u044b"}),(0,zt.jsx)("p",{className:"no-results-text",children:"\u041f\u043e\u043f\u0440\u043e\u0431\u0443\u0439\u0442\u0435 \u0438\u0437\u043c\u0435\u043d\u0438\u0442\u044c \u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b \u043f\u043e\u0438\u0441\u043a\u0430 \u0438\u043b\u0438 \u0441\u0431\u0440\u043e\u0441\u0438\u0442\u044c \u0444\u0438\u043b\u044c\u0442\u0440\u044b"}),(0,zt.jsx)("button",{onClick:m,className:"btn btn-primary",children:"\u0421\u0431\u0440\u043e\u0441\u0438\u0442\u044c \u0444\u0438\u043b\u044c\u0442\u0440\u044b"})]}):(0,zt.jsx)("div",{className:"products-grid",children:l.map((e=>(0,zt.jsx)(Dt,{product:e,onViewDetails:s,onAddToCart:t},e.id)))})]}),(0,zt.jsx)(Mt,{product:i,onClose:()=>s(null),onAddToCart:t})]})},Bt=()=>{const[e,t]=(0,a.useState)([]),[n,r]=(0,a.useState)(0),[l,o]=(0,a.useState)(0);(0,a.useEffect)((()=>{i()}),[]);const i=async()=>{try{const e=await Rt.get("".concat(Lt,"/projects"));t(e.data)}catch(e){console.error("\u041e\u0448\u0438\u0431\u043a\u0430 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0438 \u043f\u0440\u043e\u0435\u043a\u0442\u043e\u0432:",e)}};if(0===e.length)return(0,zt.jsxs)("div",{className:"loading-container",children:[(0,zt.jsx)("div",{className:"loading-spinner"}),(0,zt.jsx)("p",{children:"\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430 \u043f\u0440\u043e\u0435\u043a\u0442\u043e\u0432..."})]});const s=e[n];return(0,zt.jsx)("div",{className:"section",children:(0,zt.jsxs)("div",{className:"section-content",children:[(0,zt.jsxs)("div",{className:"project-card",children:[(0,zt.jsx)("div",{className:"project-gallery",children:(0,zt.jsxs)("div",{className:"gallery-container",children:[(0,zt.jsx)("img",{src:s.images[l],alt:s.title,className:"gallery-image"}),s.images.length>1&&(0,zt.jsxs)(zt.Fragment,{children:[(0,zt.jsx)("button",{onClick:()=>{e[n]&&o((t=>t>0?t-1:e[n].images.length-1))},className:"gallery-nav gallery-prev",children:"\u2039"}),(0,zt.jsx)("button",{onClick:()=>{e[n]&&o((t=>t<e[n].images.length-1?t+1:0))},className:"gallery-nav gallery-next",children:"\u203a"}),(0,zt.jsx)("div",{className:"gallery-dots",children:s.images.map(((e,t)=>(0,zt.jsx)("button",{onClick:()=>o(t),className:"gallery-dot ".concat(t===l?"active":"")},t)))})]})]})}),(0,zt.jsxs)("div",{className:"project-info",children:[(0,zt.jsx)("h2",{className:"project-title",children:s.title}),(0,zt.jsx)("p",{className:"project-description",children:s.description}),(0,zt.jsxs)("div",{className:"project-address",children:[(0,zt.jsx)("span",{className:"address-icon",children:"\ud83d\udccd"}),(0,zt.jsx)("span",{children:s.address})]})]})]}),e.length>1&&(0,zt.jsxs)("div",{className:"project-navigation",children:[(0,zt.jsx)("button",{onClick:()=>{r((t=>t>0?t-1:e.length-1)),o(0)},className:"btn btn-secondary",children:"\u2190 \u041f\u0440\u0435\u0434\u044b\u0434\u0443\u0449\u0438\u0439"}),(0,zt.jsxs)("span",{className:"project-indicator",children:[n+1," \u0438\u0437 ",e.length]}),(0,zt.jsx)("button",{onClick:()=>{r((t=>t<e.length-1?t+1:0)),o(0)},className:"btn btn-secondary",children:"\u0421\u043b\u0435\u0434\u0443\u044e\u0449\u0438\u0439 \u2192"})]})]})})},qt=()=>{const[e,t]=(0,a.useState)({name:"",phone:"",message:""}),[n,r]=(0,a.useState)(!1),[l,o]=(0,a.useState)(!1);return(0,zt.jsx)("div",{className:"section",children:(0,zt.jsxs)("div",{className:"section-content",children:[l&&(0,zt.jsxs)("div",{className:"alert alert-success",children:[(0,zt.jsx)("span",{className:"alert-icon",children:"\u2705"}),(0,zt.jsx)("span",{children:"\u0412\u0430\u0448\u0430 \u0437\u0430\u044f\u0432\u043a\u0430 \u043e\u0442\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0430. \u041c\u044b \u0441\u0432\u044f\u0436\u0435\u043c\u0441\u044f \u0441 \u0432\u0430\u043c\u0438 \u0432 \u0431\u043b\u0438\u0436\u0430\u0439\u0448\u0435\u0435 \u0432\u0440\u0435\u043c\u044f."})]}),(0,zt.jsxs)("div",{className:"form-card",children:[(0,zt.jsx)("h2",{className:"form-title",children:"\u0421\u0432\u044f\u0437\u0430\u0442\u044c\u0441\u044f \u0441 \u043d\u0430\u043c\u0438"}),(0,zt.jsxs)("form",{onSubmit:async n=>{n.preventDefault(),r(!0);try{await Rt.post("".concat(Lt,"/feedback"),e),t({name:"",phone:"",message:""}),o(!0),setTimeout((()=>o(!1)),5e3)}catch(a){console.error("\u041e\u0448\u0438\u0431\u043a\u0430 \u043e\u0442\u043f\u0440\u0430\u0432\u043a\u0438 \u0444\u043e\u0440\u043c\u044b:",a),alert("\u041e\u0448\u0438\u0431\u043a\u0430 \u043e\u0442\u043f\u0440\u0430\u0432\u043a\u0438 \u0444\u043e\u0440\u043c\u044b. \u041f\u043e\u043f\u0440\u043e\u0431\u0443\u0439\u0442\u0435 \u0435\u0449\u0435 \u0440\u0430\u0437.")}finally{r(!1)}},className:"contact-form",children:[(0,zt.jsxs)("div",{className:"form-group",children:[(0,zt.jsx)("label",{className:"form-label",children:"\u0412\u0430\u0448\u0435 \u0438\u043c\u044f"}),(0,zt.jsx)("input",{type:"text",required:!0,value:e.name,onChange:n=>t(c(c({},e),{},{name:n.target.value})),className:"form-input",placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0432\u0430\u0448\u0435 \u0438\u043c\u044f"})]}),(0,zt.jsxs)("div",{className:"form-group",children:[(0,zt.jsx)("label",{className:"form-label",children:"\u041d\u043e\u043c\u0435\u0440 \u0442\u0435\u043b\u0435\u0444\u043e\u043d\u0430"}),(0,zt.jsx)("input",{type:"tel",required:!0,value:e.phone,onChange:n=>t(c(c({},e),{},{phone:n.target.value})),className:"form-input",placeholder:"+7 (000) 000-00-00"})]}),(0,zt.jsxs)("div",{className:"form-group",children:[(0,zt.jsx)("label",{className:"form-label",children:"\u0421\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0435"}),(0,zt.jsx)("textarea",{required:!0,rows:"4",value:e.message,onChange:n=>t(c(c({},e),{},{message:n.target.value})),className:"form-input form-textarea",placeholder:"\u041e\u043f\u0438\u0448\u0438\u0442\u0435 \u0432\u0430\u0448 \u0437\u0430\u043f\u0440\u043e\u0441..."})]}),(0,zt.jsx)("button",{type:"submit",disabled:n,className:"btn btn-primary btn-large",children:n?"\u041e\u0442\u043f\u0440\u0430\u0432\u043b\u044f\u0435\u043c...":"\u041e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c \u0437\u0430\u044f\u0432\u043a\u0443"})]}),(0,zt.jsxs)("div",{className:"contact-info",children:[(0,zt.jsxs)("div",{className:"contact-item",children:[(0,zt.jsx)("span",{className:"contact-icon",children:"\ud83d\udcde"}),(0,zt.jsx)("span",{children:"+7 (495) 123-45-67"})]}),(0,zt.jsxs)("div",{className:"contact-item",children:[(0,zt.jsx)("span",{className:"contact-icon",children:"\ud83d\udce7"}),(0,zt.jsx)("span",{children:"info@klimattehno.ru"})]})]})]})]})})},Ht=e=>{let{cartItems:t,onRemoveItem:n,onUpdateQuantity:r,onClearCart:l}=e;const[o,i]=(0,a.useState)(!1),[s,u]=(0,a.useState)(!1),c=t.reduce(((e,t)=>e+t.price*t.quantity),0);return 0===t.length?(0,zt.jsx)("div",{className:"section",children:(0,zt.jsx)("div",{className:"section-content",children:(0,zt.jsxs)("div",{className:"empty-cart",children:[(0,zt.jsx)("div",{className:"empty-cart-icon",children:"\ud83d\uded2"}),(0,zt.jsx)("h2",{className:"empty-cart-title",children:"\u041a\u043e\u0440\u0437\u0438\u043d\u0430 \u043f\u0443\u0441\u0442\u0430"}),(0,zt.jsx)("p",{className:"empty-cart-text",children:"\u0414\u043e\u0431\u0430\u0432\u044c\u0442\u0435 \u0442\u043e\u0432\u0430\u0440\u044b \u0438\u0437 \u043a\u0430\u0442\u0430\u043b\u043e\u0433\u0430"})]})})}):(0,zt.jsxs)("div",{className:"section",children:[(0,zt.jsxs)("div",{className:"section-content",children:[(0,zt.jsx)("div",{className:"cart-items",children:t.map((e=>(0,zt.jsxs)("div",{className:"cart-item",children:[(0,zt.jsxs)("div",{className:"cart-item-info",children:[(0,zt.jsx)("h3",{className:"cart-item-name",children:e.product_name}),(0,zt.jsxs)("p",{className:"cart-item-price",children:[e.price.toLocaleString()," \u20bd \u0437\u0430 \u0448\u0442."]})]}),(0,zt.jsxs)("div",{className:"cart-item-controls",children:[(0,zt.jsxs)("div",{className:"quantity-controls",children:[(0,zt.jsx)("button",{onClick:()=>r(e.id,Math.max(1,e.quantity-1)),className:"quantity-btn",children:"\u2212"}),(0,zt.jsx)("span",{className:"quantity-value",children:e.quantity}),(0,zt.jsx)("button",{onClick:()=>r(e.id,e.quantity+1),className:"quantity-btn",children:"+"})]}),(0,zt.jsxs)("div",{className:"cart-item-total",children:[(e.price*e.quantity).toLocaleString()," \u20bd"]}),(0,zt.jsx)("button",{onClick:()=>n(e.id),className:"remove-btn",title:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c \u0442\u043e\u0432\u0430\u0440",children:"\ud83d\uddd1\ufe0f"})]})]},e.id)))}),(0,zt.jsxs)("div",{className:"cart-summary",children:[(0,zt.jsxs)("div",{className:"cart-total",children:[(0,zt.jsx)("span",{className:"total-label",children:"\u0418\u0442\u043e\u0433\u043e:"}),(0,zt.jsxs)("span",{className:"total-amount",children:[c.toLocaleString()," \u20bd"]})]}),(0,zt.jsx)("button",{onClick:()=>i(!0),className:"btn btn-primary btn-large",children:"\u041e\u0444\u043e\u0440\u043c\u0438\u0442\u044c \u0437\u0430\u043a\u0430\u0437"})]})]}),o&&(0,zt.jsx)("div",{className:"modal-overlay",onClick:()=>i(!1),children:(0,zt.jsxs)("div",{className:"modal",onClick:e=>e.stopPropagation(),children:[(0,zt.jsx)("div",{className:"modal-header",children:(0,zt.jsx)("h2",{className:"modal-title",children:"\u041f\u043e\u0434\u0442\u0432\u0435\u0440\u0436\u0434\u0435\u043d\u0438\u0435 \u0437\u0430\u043a\u0430\u0437\u0430"})}),(0,zt.jsxs)("div",{className:"modal-content",children:[(0,zt.jsxs)("p",{className:"confirmation-text",children:["\u041f\u043e\u0434\u0442\u0432\u0435\u0440\u0434\u0438\u0442\u044c \u0437\u0430\u043a\u0430\u0437 \u043d\u0430 \u0441\u0443\u043c\u043c\u0443 ",c.toLocaleString()," \u20bd?"]}),(0,zt.jsx)("div",{className:"order-items",children:t.map((e=>(0,zt.jsxs)("div",{className:"order-item",children:[(0,zt.jsxs)("span",{className:"order-item-name",children:[e.product_name," \xd7 ",e.quantity]}),(0,zt.jsxs)("span",{className:"order-item-price",children:[(e.price*e.quantity).toLocaleString()," \u20bd"]})]},e.id)))}),(0,zt.jsxs)("div",{className:"modal-actions",children:[(0,zt.jsx)("button",{onClick:()=>i(!1),className:"btn btn-secondary",disabled:s,children:"\u041e\u0442\u043c\u0435\u043d\u0430"}),(0,zt.jsx)("button",{onClick:async()=>{u(!0);try{await Rt.post("".concat(Lt,"/orders"),{items:t}),i(!1),l(),alert("\u0421\u043f\u0430\u0441\u0438\u0431\u043e \u0437\u0430 \u0437\u0430\u043a\u0430\u0437! \u041c\u044b \u0441\u0432\u044f\u0436\u0435\u043c\u0441\u044f \u0441 \u0432\u0430\u043c\u0438 \u0434\u043b\u044f \u043f\u043e\u0434\u0442\u0432\u0435\u0440\u0436\u0434\u0435\u043d\u0438\u044f.")}catch(e){console.error("\u041e\u0448\u0438\u0431\u043a\u0430 \u043e\u0444\u043e\u0440\u043c\u043b\u0435\u043d\u0438\u044f \u0437\u0430\u043a\u0430\u0437\u0430:",e),alert("\u041e\u0448\u0438\u0431\u043a\u0430 \u043e\u0444\u043e\u0440\u043c\u043b\u0435\u043d\u0438\u044f \u0437\u0430\u043a\u0430\u0437\u0430. \u041f\u043e\u043f\u0440\u043e\u0431\u0443\u0439\u0442\u0435 \u0435\u0449\u0435 \u0440\u0430\u0437.")}finally{u(!1)}},disabled:s,className:"btn btn-primary",children:s?"\u041e\u0444\u043e\u0440\u043c\u043b\u044f\u0435\u043c...":"\u041f\u043e\u0434\u0442\u0432\u0435\u0440\u0434\u0438\u0442\u044c"})]})]})]})})]})};const Vt=function(){const[e,t]=(0,a.useState)("catalog"),[n,r]=(0,a.useState)([]),[l,o]=(0,a.useState)(null),[i,s]=(0,a.useState)(null);(0,a.useEffect)((()=>{const e=(()=>{var e;if(null!==(e=window.Telegram)&&void 0!==e&&e.WebApp){const e=window.Telegram.WebApp;return e.ready(),e.expand(),e.enableClosingConfirmation(),e.setHeaderColor("#2196F3"),e.setBackgroundColor("#ffffff"),console.log("Telegram Web App initialized"),e}return null})();o(e);const t=(()=>{var e,t,n;return null!==(e=window.Telegram)&&void 0!==e&&null!==(t=e.WebApp)&&void 0!==t&&null!==(n=t.initDataUnsafe)&&void 0!==n&&n.user?window.Telegram.WebApp.initDataUnsafe.user:null})();s(t),console.log("Telegram User:",t),c(),u()}),[]);const u=async()=>{try{await Rt.post("".concat(Lt,"/init-data"))}catch(e){console.error("\u041e\u0448\u0438\u0431\u043a\u0430 \u0438\u043d\u0438\u0446\u0438\u0430\u043b\u0438\u0437\u0430\u0446\u0438\u0438 \u0434\u0430\u043d\u043d\u044b\u0445:",e)}},c=async()=>{try{const e=await Rt.get("".concat(Lt,"/cart"));r(e.data)}catch(e){console.error("\u041e\u0448\u0438\u0431\u043a\u0430 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0438 \u043a\u043e\u0440\u0437\u0438\u043d\u044b:",e)}},f=async e=>{try{await Rt.post("".concat(Lt,"/cart"),{product_id:e.id,quantity:1}),c(),null!==l&&void 0!==l&&l.HapticFeedback&&l.HapticFeedback.impactOccurred("light");const t=document.createElement("div");t.className="toast-notification",t.textContent="\u0422\u043e\u0432\u0430\u0440 \u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d \u0432 \u043a\u043e\u0440\u0437\u0438\u043d\u0443!",document.body.appendChild(t),setTimeout((()=>{t.classList.add("show")}),100),setTimeout((()=>{t.classList.remove("show"),setTimeout((()=>document.body.removeChild(t)),300)}),2e3)}catch(t){console.error("\u041e\u0448\u0438\u0431\u043a\u0430 \u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0438\u044f \u0432 \u043a\u043e\u0440\u0437\u0438\u043d\u0443:",t),alert("\u041e\u0448\u0438\u0431\u043a\u0430 \u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0438\u044f \u0442\u043e\u0432\u0430\u0440\u0430 \u0432 \u043a\u043e\u0440\u0437\u0438\u043d\u0443")}},d=async e=>{try{await Rt.delete("".concat(Lt,"/cart/").concat(e)),c()}catch(t){console.error("\u041e\u0448\u0438\u0431\u043a\u0430 \u0443\u0434\u0430\u043b\u0435\u043d\u0438\u044f \u0438\u0437 \u043a\u043e\u0440\u0437\u0438\u043d\u044b:",t)}},p=async(e,t)=>{try{const r=n.find((t=>t.id===e));r&&(await Rt.delete("".concat(Lt,"/cart/").concat(e)),t>0&&await Rt.post("".concat(Lt,"/cart"),{product_id:r.product_id,quantity:t}),c())}catch(r){console.error("\u041e\u0448\u0438\u0431\u043a\u0430 \u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u044f \u043a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u0430:",r)}},h=async()=>{try{await Rt.delete("".concat(Lt,"/cart")),r([])}catch(e){console.error("\u041e\u0448\u0438\u0431\u043a\u0430 \u043e\u0447\u0438\u0441\u0442\u043a\u0438 \u043a\u043e\u0440\u0437\u0438\u043d\u044b:",e)}};return(0,zt.jsxs)("div",{className:"app",children:[(0,zt.jsx)(Ft,{}),(0,zt.jsx)("main",{className:"main-content",children:(()=>{switch(e){case"catalog":default:return(0,zt.jsx)(It,{onAddToCart:f});case"about":return(0,zt.jsx)(Bt,{});case"feedback":return(0,zt.jsx)(qt,{});case"cart":return(0,zt.jsx)(Ht,{cartItems:n,onRemoveItem:d,onUpdateQuantity:p,onClearCart:h})}})()}),(0,zt.jsx)(At,{activeSection:e,setActiveSection:t,cartCount:n.length})]})};l.createRoot(document.getElementById("root")).render((0,zt.jsx)(a.StrictMode,{children:(0,zt.jsx)(Vt,{})}))})();
//# sourceMappingURL=main.9cdd1a03.js.map